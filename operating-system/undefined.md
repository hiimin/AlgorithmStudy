# 개념 정리

##  메모리 영역\(code, data, stack, heap\)

{% embed url="https://selfish-developer.com/entry/%EC%8A%A4%ED%83%9D-%ED%9E%99-%EC%BD%94%EB%93%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%98%81%EC%97%AD" %}

{% embed url="https://sfixer.tistory.com/entry/%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%ADcode-data-stack-heap" %}



## PCB\(Process Control Block\)

*  운영체제가 프로세스를 제어하기 위해 정보를 저장해 놓는 곳, 프로세스의 상태 정보를 저장하는 구조체
*  프로세스 상태 관리와 문맥교환\(Context Switching\)을 위해 필요
* PCB는 프로세스 생성 시 만들어지며 주기억장치에 유지된다.

CPU에 급한 프로세스가 처리해달라고 긴급 요청\(인터럽트\)이 왔을 때 기존에 작업하던 프로세스를 어딘가에 임시 저장을 해놓아야 된다. 즉 프로세스에 관한 정보들을 저장할 어딘가의 공간이 필요한데 그게 PBC이다. 어떤 프로세스인지, 이 프로세스가 어디까지 실행됐는지, 현재 상태는 어떤지, 우선순위, 입출력 상태 정보, 레지스터 관련 정보, 할당된 자원, CPU 사용 시간 등을 저장함.

![](../.gitbook/assets/image%20%282%29.png)

## Interrupt

 '끼어들다', '중단시키다' 정도의 의미로 프로그램을 실행하는 도중에 예기치 않은 상황이 발생할 경우 현재 실행중인 작업을 중단하고 발생된 상황을 처리한 후 다시 실행중인 작업으로 복귀하는 것. 외부/내부 인터럽트는 CPU의 하드웨어 신호에 의해 발생하고 소프트웨어 인터럽트는 명령어의 수행에 의해 발

###  외부 인터럽

*  전원 이상 인터럽트 : 정전, 파워 이상 등
*  기계 착오 인터럽트 : cpu의 기능적인 오류
*  외부 신호 인터럽트
  * 타이머에 의한 인터럽트 : Preemptive\(선점\) 개념. 자원이 할당된 시간이 다 끝난 경우
  * 키보드로 인터럽트 키를 누른 경우 : 대표적으로 Control + Alt + Delete
  * 외부장치로부터 인터럽트 요청이 있는 경우 : I/O 인터럽트랑 다른 개념
* 입출력 인터럽트\(I/O 인터럽트\)
  * 입출력장치가 데이터 전송을 요구하거나 전송이 끝나 다음 동작이 수행되어야 할 경우
  * 입출력 데이터에 이상이 있는 경우

###  내부 인터럽트

*  잘못된 명령이나 잘못된 데이터를 사용할때 발생하며 Trap이라 부른다.
* 프로그램 검사 인터럽트\(Program check interrupt\)
  * Division by zero
  * Overflow/Underflow
  * 기타 exception

###  소프트웨어 인터럽트\(SVC : SuperVisor Call\)

*  사용자가 프로그램을 실행시키거나 감시프로그램\(Supervisor\)을 호출하는 동작을 수행하는 경우
*  소프트웨어 이용중 다른 프로세스를 실행시키면 시분할 처리를 위해 자원 할당 등의 동작이 수행된다.

###  인터럽트 동작 순서

1.  인터럽트 요청
2.  프로그램 실행 중단
3.  현재의 프로그램 상태 보존 : PCB
4.  인터럽트 처리 루틴 실행 : 인터럽트를 요청한 장치를 식별한다.
5.  인터럽트 서비스 루틴 실행 : 인터럽트 원인을 파악하고 실질적인 작업을 수행한다. 처리기 레지스터 상태를 보존한다. 서비스 루틴 수행 중 우선순위가 더 높은 인터럽트가 발행하면 또 재귀적으로 1~5를 수행한다.
6.  상태 복구 : 인터럽트 발생 시 저장해둔 PCB를 다시 복구한다.
7.  중단된 프로그램 실행 재개 : PCB의 값을 이용해 이전에 수행중이던 프로그램을 재개한다.

## next.. IPC

